webpackJsonp([1],{"9bBU":function(t,e,a){a("mClu");var r=a("FeBl").Object;t.exports=function(t,e,a){return r.defineProperty(t,e,a)}},C4MV:function(t,e,a){t.exports={default:a("9bBU"),__esModule:!0}},KdrZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("bOdI"),o=a.n(r),s=a("uUes"),l={data:function(){return{formData:{},form:{content:"",coverUrl:"",billId:-1},baseURL:"https://ifarm.iqiys.cn/api/oss",hasData:!1,dialogFormVisible:!1}},created:function(){var t=this;Object(s.l)(this.$route.params.billid).then(function(e){t.formData=e.data.content[0],t.hasData=!0})},methods:{addNewReport:function(){this.dialogFormVisible=!0},submitRes:function(){var t=this;Object(s.c)(o()({billId:this.$route.params.billid,content:this.form.content,medias:[{type:0,url:this.form.coverUrl}]},"content",this.form.content)).then(function(e){200==e.status?(t.dialogFormVisible=!1,t.$message({message:"添加成功",type:"success"}),t.$router.push({name:"sale"})):t.$message({message:"添加失败",type:"warning"})})},handleImagebeforeUpload:function(t){var e=t.name,a=e.substring(e.lastIndexOf(".")+1);this.uploadData.key=Date.parse(new Date)+"."+a},handleImageScucess:function(t,e,a){this.form.coverUrl=t.data}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hasData?a("div",{staticClass:"app-container"},[a("el-form",{attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"菜地分区：","label-width":"150px"}},[t._v("\n      "+t._s(t.formData.gardenItem.gardenArea.name)+"\n    ")]),t._v(" "),a("el-form-item",{attrs:{label:"有效期：","label-width":"150px"}},[a("span",[t._v(t._s(t._f("parseTime")(t.formData.startTime,"{y}-{m}-{d}")))]),t._v("-"),a("span",[t._v(t._s(t._f("parseTime")(t.formData.endTime,"{y}-{m}-{d}")))])]),t._v(" "),a("el-form-item",{attrs:{label:"用户昵称：","label-width":"150px"}},[t._v("\n      "+t._s(t.formData.user.nickName)+"\n    ")]),t._v(" "),a("el-form-item",{attrs:{label:"手机号：","label-width":"150px"}},[t._v("\n      "+t._s(t.formData.user?t.formData.user.phone:t.formData.address?t.formData.address.phone:"--")+"\n    ")]),t._v(" "),a("el-form-item",{attrs:{label:"默认收货信息：","label-width":"150px"}},[t._v("\n      "+t._s(t.formData.address?t.formData.address.address:"--")+"\n    ")]),t._v(" "),a("el-form-item",{attrs:{label:"菜地主图：","label-width":"150px"}},[a("img",{staticStyle:{"max-width":"200px","max-height":"200px"},attrs:{src:t.formData.gardenItem.gardenArea.garden.coverUrl,alt:"",width:"80%",height:"80%"}})]),t._v(" "),a("el-form-item",{attrs:{label:"管家汇报：","label-width":"150px"}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(e){t.addNewReport()}}},[t._v("添加汇报")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"添加汇报",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"汇报内容：","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},"auto-complete":"off"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),a("div",[a("label",{staticClass:"el-form-item__label",staticStyle:{width:"120px"}},[t._v("汇报图片")]),t._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{drag:"","before-upload":t.handleImagebeforeUpload,"on-success":t.handleImageScucess,action:t.baseURL,data:t.uploadData}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])])])],1),t._v(" "),t.form.coverUrl?a("div",{staticStyle:{"margin-left":"120px"}},[a("img",{staticStyle:{"max-height":"200px"},attrs:{src:t.form.coverUrl,alt:"",width:"80%",height:"80%"}})]):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitRes()}}},[t._v("确 定")])],1)],1)],1):t._e()},staticRenderFns:[]};var n=a("VU/8")(l,i,!1,function(t){a("ZtPK")},"data-v-87037caa",null);e.default=n.exports},ZtPK:function(t,e,a){var r=a("fJrm");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("491135e3",r,!0)},bOdI:function(t,e,a){"use strict";e.__esModule=!0;var r,o=a("C4MV"),s=(r=o)&&r.__esModule?r:{default:r};e.default=function(t,e,a){return e in t?(0,s.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},fJrm:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.app-container .el-form-item__label[data-v-87037caa] {\n  font-size: 16px;\n}\n",""])},mClu:function(t,e,a){var r=a("kM2E");r(r.S+r.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})}});